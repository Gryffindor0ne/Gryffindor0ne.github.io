---
layout: post
title: "Promise"
date: 2021-11-14 19:23:27 +0900
category: javascript
tags: javascript
image:
  path: https://images.unsplash.com/photo-1523966211575-eb4a01e7dd51?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=710&q=80
---

# Promise

### `ì½”ì–´ ìë°”ìŠ¤í¬ë¦½íŠ¸(ì •ì¬ë‚¨ ì €)` ì±…ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê³µë¶€í•˜ë©´ì„œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³ ì í•œë‹¤.

---

# 04 Callback function

<br>

## ğŸ–‡ Promise

### **`Promise`** ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë¹„ë™ê¸° ì‘ì—…ì„ ê°„í¸í•˜ê²Œ í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ê°ì²´ì´ë‹¤.

ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ë‹¤ê°€ ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë©´ ì„±ê³µì˜ ê²°ê³¼ê°’ì„ ë°˜í™˜í•˜ì§€ë§Œ, ì˜ˆìƒì¹˜ ëª»í•œ ìƒí™©ì´ ë°œìƒí•˜ì—¬ ì‘ì—…ì´ ì‹¤íŒ¨í•˜ë©´ errorë¥¼ ë°˜í™˜í•œë‹¤.

<br>

## ğŸª„ Promiseì˜ ì£¼ìš” POINT!

## 1.**State**

> **Promise** ëŠ” 3ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§„ë‹¤.

<br>

ğŸª¡ **Pending** : ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì•„ì§ ì§„í–‰ë˜ì§€ ì•Šì€ ìƒíƒœ [`resolve ë˜ëŠ” reject í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ`]

ğŸª¡ **Fulfulled** : ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ (ì„±ê³µ) [`resolve í•¨ìˆ˜ ì‹¤í–‰`]

ğŸª¡ **Rejected** : ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ (ì‹¤íŒ¨) [`reject í•¨ìˆ˜ ì‹¤í–‰`]

<br>

![promiseFlow](https://user-images.githubusercontent.com/79234473/139370123-69734ba7-fd54-4906-a05d-acdcbc72d539.png)

<br>

## 2. **Producer** vs **Consumer**

## ğŸªƒ **Producer** <br>

### ğŸ’¡ **NOTICE**

**Promise** ëŠ” ìƒì„±í•œ ì¦‰ì‹œ ì‹¤í–‰ëœë‹¤. ìë™ì ìœ¼ë¡œ~

![promise1](https://user-images.githubusercontent.com/79234473/141677944-a6f85468-0b5e-44be-b057-7c003ef7c3f8.png)

## ğŸªƒ **Consumers**<br>

> **then, catch, finally : ê²°ê³¼ê°’ì„ ë°›ì•„ì˜¨ë‹¤.**

![promise2](https://user-images.githubusercontent.com/79234473/141677975-e468815d-7428-400a-bd7b-1feed8cc0b85.png)

### ğŸ“ **then**

```
then ë©”ì†Œë“œëŠ” ë‘ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ì „ë‹¬ ë°›ëŠ”ë‹¤.

ì²« ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ëŠ” ì„±ê³µ(fulfilled, resolve í•¨ìˆ˜ê°€ í˜¸ì¶œëœ ìƒíƒœ) ì‹œ í˜¸ì¶œë˜ê³ 

ë‘ ë²ˆì§¸ í•¨ìˆ˜ëŠ” ì‹¤íŒ¨(rejected, reject í•¨ìˆ˜ê°€ í˜¸ì¶œëœ ìƒíƒœ) ì‹œ í˜¸ì¶œëœë‹¤.
```

![promise3](https://user-images.githubusercontent.com/79234473/141677976-884b4d1c-b74d-4c07-b7d0-a5e8e07a850d.png)

### ğŸ“ **catch**

```
ì˜ˆì™¸(ë¹„ë™ê¸° ì²˜ë¦¬ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ì™€ then ë©”ì†Œë“œì—ì„œ ë°œìƒí•œ ì—ëŸ¬)ê°€ ë°œìƒí•˜ë©´ í˜¸ì¶œëœë‹¤.
```

![promise4](https://user-images.githubusercontent.com/79234473/141677977-411eaaec-13ed-4437-8038-47e7de8775a4.png)

### ğŸ“ **finally**

```
Promiseê°€ ì²˜ë¦¬ë˜ë©´ ì¶©ì¡±ë˜ê±°ë‚˜ ê±°ë¶€ë˜ëŠ”ì§€ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ì§€ì •ëœ ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.

ì´ê²ƒì€ Promiseê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ ê±°ì ˆë˜ì—ˆëŠ”ì§€ì— ê´€ê³„ì—†ì´ Promiseê°€ ì²˜ë¦¬ ëœ í›„ì— ì½”ë“œê°€ ë¬´ì¡°ê±´ í•œ ë²ˆì€ ì‹¤í–‰ë˜ê²Œ í•œë‹¤.
```

![promise5](https://user-images.githubusercontent.com/79234473/141678000-83b753f4-a9f7-47e0-8ca2-1416cc721d0c.png)

### ğŸ‘‰ğŸ¼ **For Example**

![promise6](https://user-images.githubusercontent.com/79234473/141678132-4bdb38e2-0991-4283-a07d-05fe5e3e95ed.png)

ìœ„ì˜ ì˜ˆì‹œë¥¼ ë³´ë©´, ì¢€ ë” ì´í•´ê°€ ë  ë“¯ í•˜ë‹¤.

ë³€ìˆ˜ completeë¥¼ ê°€ì§€ê³  ì„±ê³µ, ì‹¤íŒ¨ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, ì§€ê¸ˆ ë³€ìˆ˜ì˜ ê°’ì´ false ì„ìœ¼ë¡œ reject í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ê²ƒì´ë‹¤.

ê²°ê³¼ëŠ” `value -> something wrong!`

ë³€ìˆ˜ completeê°€ true ë¼ë©´ resolve í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³ ,

ê²°ê³¼ëŠ” `value -> result!` ê°€ ë‚˜ì˜¬ ê²ƒì´ë‹¤.

ê·¸ë¦¬ê³  ë³€ìˆ˜ completeê°€ ë¬´ì—‡ì´ë“  ê°„ì—

ê²°ê³¼ê°’ìœ¼ë¡œ `finally` ëŠ” ë¬´ì¡°ê±´ ì¶œë ¥ëœë‹¤.

---

## â›“ **Promise Chaining**

**Promise** ëŠ” ì—¬ëŸ¬ ê°œì˜ **Promise** ë¥¼ ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ğŸ‘‰ğŸ¼ **For Example 1**

![promise7](https://user-images.githubusercontent.com/79234473/141678136-56bf02d3-017f-4b5d-93a1-53742fc601dd.png)

ê²°ê³¼ê°’ì„ ë°›ì•„ ë°”ë¡œ ë‹¤ìŒ **.then** ìœ¼ë¡œ ë„˜ê²¨ì£¼ëŠ” í˜•ì‹ìœ¼ë¡œ ì§„í–‰ëœë‹¤.

<br>

### ğŸ‘‰ğŸ¼ **For Example 2**

![promise8](https://user-images.githubusercontent.com/79234473/141678137-44576dfa-24b8-4e0d-8a63-4dfa2a64ca73.png)

<br>

### ì, ê·¸ëŸ¼ ì½œë°±í•¨ìˆ˜ì—ì„œ ì½œë°±ì§€ì˜¥ì´ ë°œìƒí•˜ë˜ ì½”ë“œë¥¼ Promiseë¡œ ë³€ê²½í•´ë³´ì.

![promise9](https://user-images.githubusercontent.com/79234473/141678139-9f803933-6383-46c3-bb26-28e7c566b194.png)

ì¢€ ë” ê°„ë‹¨í•˜ê²Œ ì½”ë“œë¥¼ ë°”ê¾¸ë©´,

![promise10](https://user-images.githubusercontent.com/79234473/141678142-d936d84e-65e6-4e23-884e-84b33477bf2b.png)

<br>

---

## ğŸ’ğŸ»â€â™€ï¸ **Error handling**

**Promise** ì—ì„œëŠ” 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì—ëŸ¬ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.

ì²«ë²ˆì§¸ëŠ” then ë©”ì†Œë“œì˜ ë‘ë²ˆì§¸ ì½œë°±í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ê³ , ë‘ë²ˆì§¸ ë°©ì‹ì€ catch ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.

ê·¸ëŸ¬ë‚˜, ì²«ë²ˆì§¸ ë°©ë²•ì˜ ì—ëŸ¬ì²˜ë¦¬ëŠ” ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šì„ ë¿ë”ëŸ¬, then ë©”ì†Œë“œì˜ ì²«ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ì—ì„œ ì—ëŸ¬ê°€ ë‚˜ë©´ ì¡ì•„ë‚´ì§ˆ ëª»í•œë‹¤.

ë•Œë¬¸ì— **Promise** ì—ëŸ¬ì²˜ë¦¬ëŠ” ë‘ë²ˆì§¸ ë°©ì‹ì¸ catch ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤.

<br>

### ğŸ‘‰ğŸ¼ **For Example**

ğŸ‘©ğŸ»â€ğŸ’» then ë©”ì†Œë“œì˜ ë‘ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ ì‚¬ìš©í•˜ëŠ” ì—ëŸ¬ì²˜ë¦¬

![promise11](https://user-images.githubusercontent.com/79234473/141678143-f75691af-fd2c-4871-9224-87c100b066fa.png)

<br>

ğŸ§‘ğŸ»â€ğŸ’» catch ë©”ì†Œë“œë¥¼ í†µí•œ ì—ëŸ¬ì²˜ë¦¬

![promise12](https://user-images.githubusercontent.com/79234473/141678145-95a0878d-92ab-469a-baa4-17d0ea819ab3.png)

2ê°€ì§€ ê²½ìš° ë‹¤ ê²°ê³¼ëŠ” ë™ì¼í•˜ë‹¤.

<br>

### ê·¸ëŸ¼, ë‹¤ìŒì˜ ê²½ìš°ë¥¼ ì‚´í´ë³´ì.

<br>

ğŸ‘©ğŸ»â€ğŸ’» then ë©”ì†Œë“œì˜ ë‘ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ ì‚¬ìš©í•˜ëŠ” ì—ëŸ¬ì²˜ë¦¬ 2

![promise13](https://user-images.githubusercontent.com/79234473/141678148-2f642c67-6d0c-4aac-8f58-78a68ddef638.png)

then ë©”ì†Œë“œì˜ ì²«ë²ˆì§¸ ì½œë°±í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì—ëŸ¬ë¥¼ ì¡ì•„ë‚´ì§€ ëª»í•œë‹¤.

<br>

ğŸ§‘ğŸ»â€ğŸ’» catch ë©”ì†Œë“œë¥¼ í†µí•œ ì—ëŸ¬ì²˜ë¦¬ 2

![promise14](https://user-images.githubusercontent.com/79234473/141678149-236403e4-6038-49d2-970e-f2cb59affb48.png)

catch ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì—ëŸ¬ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.

<br>

[ì½”ë“œ ì°¸ê³ í•˜ë ¤ë©´](<https://github.com/Gryffindor0ne/studyNote/blob/main/JavaScript/Callback2(promise).md>)

<br>

ğŸ‘‰ğŸ» ë‹¤ìŒ ì¥ì—ì„œ ì´ì–´ì„œ ì„¤ëª… ğŸ‘‰ğŸ»

---

## ì°¸ê³ ìë£Œ

- [í”„ë¡œë¯¸ìŠ¤](https://poiemaweb.com/es6-promise)

- [ë“œë¦¼ì½”ë”© ì—˜ë¦¬\_ Javascript promise](https://www.youtube.com/watch?v=JB_yU6Oe2eE)

- [MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise)
